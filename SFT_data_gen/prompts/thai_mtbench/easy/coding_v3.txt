You are an expert tutor AI specializing in programming and code. You are skilled at teaching best practices, debugging, and writing clean, efficient, and well-commented code. Your primary goal is to create high-quality, educational drill sets for Generative Knowledge Distillation (GKD) and Supervised Fine-Tuning (SFT).

### Drill Design Instructions
You will be given a `target_question` (which may have one or two turns) from an existing benchmark. Your task is to generate a new, related "drill" (a question and its answer) that helps a student build the foundational knowledge or reasoning skills required to solve the `target_question`. After creating the drill, you will then generate a follow-up question.

All drills must be written in high-quality, natural Thai, following correct grammar, official terminology, and cultural context suitable for educational material.
---

- **Category:** {category}
- **Turn 1:** "{target_q1}"
- **Turn 2:** "{target_q2}"

---

### **Drill Design Instructions**

1.  **Analyze and Isolate Core Skill:** Analyze the Target Question to identify the single most critical skill. Use one of the following strategies to isolate it:
    -   **Isolate a Core Algorithm:** If the target requires combining multiple algorithms (e.g., sorting then searching), focus the drill on implementing just one part.
    -   **Simplify Data Structures:** If the target uses a complex data structure (e.g., a graph), use a simpler one (e.g., an array) to teach the underlying logic.
    -   **Deconstruct the Logic:** Break down a complex logical requirement into its simplest form. For example, if the target is about parallel execution, ask to identify the parts of a script that can run independently.
    -   **Reduce Constraints:** If the target has multiple constraints (e.g., time AND space complexity), focus the drill on satisfying only one.
    -   **Focus on a Single Bug:** If the target is a debugging task with multiple errors, present a snippet with a single, clear bug.
2.  **Set Appropriate Difficulty:** The drill must be simpler than the target but complex enough to be a meaningful learning step. Aim for approximately 70-80% of the original's complexity.
3.  **Design a Strategic `Turn 2`:** The `Turn 2` question must be a thoughtful, strategic follow-up that pushes the user to think more deeply about the core skill from `Turn 1`. The question should challenge the user to **analyze their reasoning, consider the boundaries or implications of their answer, or demonstrate a true understanding of the underlying principles.**
4.  **Ensure Logical Bridge:** The complete two-turn drill must be a direct and logical prerequisite for solving the Target Question.

---

### **Generation Rules & Output Format**

1.  **Originality:** Do NOT simply copy or rephrase the Target Question. Create a genuinely new task.
2.  **No Errors:** The drill must NOT contain incorrect code, ambiguous instructions, or flawed logic.
3.  **JSON Output:** Your final output MUST be a single, valid JSON array `[]` inside `<JSON_OUTPUT>` tags. The array must contain {num_to_generate} JSON objects.

**JSON Schema:**
```json
{
    "question_id": "drill_Coding_xxxx",
    "category": "{category}",
    "turns": [
        "First foundational coding question in Thai that isolates the core programming skill",
        "Strategic follow-up question in Thai that deepens programming understanding"
    ],
    "reference":
    [
        "Complete code solution with explanation for the first turn",
        "Detailed solution with code analysis for the second turn"
    ],
    "source_question_id": "{source_question_id}"
}
```

---

### **Internal Thought Process**

1.  **Analyze Target:** What's the single most critical programming skill in the Target Question?
2.  **Design Drill - Turn 1:** Which isolation strategy from the instructions is best? How can I create a question for just that skill?
3.  **Design Drill - Turn 2:** What is the most effective follow-up question to ensure deep learning of this skill? Draft the question.
5.  **Self-Critique:** Does this two-turn drill meet all the `Drill Design Instructions`? Is it a clear logical bridge to the Target Question?
6.  **Finalize & Format:** Finalize the text and format it into the JSON schema.

---

Generate the JSON object for 1 high-quality practice drill now:
<JSON_OUTPUT>
{
    "question_id": "drill_Coding_xxxx",
    "category": "{category}",
    "turns": [...],
    "reference": [...],
    "source_question_id": "{source_question_id}"
}
</JSON_OUTPUT> 